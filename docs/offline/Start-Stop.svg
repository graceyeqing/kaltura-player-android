<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="531px" preserveAspectRatio="none" style="width:408px;height:531px;" version="1.1" viewBox="0 0 408 531" width="408px" zoomAndPan="magnify"><defs><filter height="300%" id="fjsww7w6s3a17" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="162.5" y="23.5352">Start/stop</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="98" y1="68.9766" y2="341.4609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="98" x2="98" y1="341.4609" y2="369.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="98" y1="369.4609" y2="491.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="329" y1="68.9766" y2="341.4609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="329" x2="329" y1="341.4609" y2="369.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="329" y1="369.4609" y2="491.3926"/><rect fill="#E0FFFF" filter="url(#fjsww7w6s3a17)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="75" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="82" y="54.0234">App</text><rect fill="#E0FFFF" filter="url(#fjsww7w6s3a17)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="75" y="490.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="82" y="510.9277">App</text><rect fill="#FEFECE" filter="url(#fjsww7w6s3a17)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="267" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="274" y="54.0234">OfflineManager</text><rect fill="#FEFECE" filter="url(#fjsww7w6s3a17)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="267" y="490.3926"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="274" y="510.9277">OfflineManager</text><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="99.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="99.6318" y2="99.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="102.6318" y2="102.6318"/><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="146" x="126.5" y="88.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="132.5" y="105.5449">Set global listeners</text><polygon fill="#A80036" points="317,139.2871,327,143.2871,317,147.2871,321,143.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="143.2871" y2="143.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="105" y="138.8555">setAssetInfoUpdateListener(...)</text><polygon fill="#A80036" points="317,168.5977,327,172.5977,317,176.5977,321,172.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="172.5977" y2="172.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="105" y="168.166">setDownloadProgressListener(...)</text><polygon fill="#A80036" points="317,197.9082,327,201.9082,317,205.9082,321,201.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="201.9082" y2="201.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="105" y="197.4766">setDrmLicenseUpdateListener(...)</text><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="230.874"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="230.874" y2="230.874"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="233.874" y2="233.874"/><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="49" x="175" y="220.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="181" y="236.7871">Start</text><polygon fill="#A80036" points="317,270.5293,327,274.5293,317,278.5293,321,274.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="274.5293" y2="274.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="105" y="270.0977">start()</text><polygon fill="#A80036" points="109,299.8398,99,303.8398,109,307.8398,105,303.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="103" x2="328" y1="303.8398" y2="303.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="115" y="299.4082">started</text><polygon fill="#A80036" points="317,329.1504,327,333.1504,317,337.1504,321,333.1504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="333.1504" y2="333.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="105" y="328.7188">resumeDownloads()</text><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="390.1162"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="390.1162" y2="390.1162"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="393.1162" y2="393.1162"/><rect fill="#EEEEEE" filter="url(#fjsww7w6s3a17)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="47" x="176" y="379.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="182" y="396.0293">Stop</text><path d="M8,424.7715 L8,435.7715 A7,7 0 0 0 15,442.7715 L177,442.7715 A7,7 0 0 0 184,435.7715 L184,427.7715 L174,417.7715 L15,417.7715 A7,7 0 0 0 8,424.7715 " fill="#FFFF00" filter="url(#fjsww7w6s3a17)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M174,417.7715 L174,424.2715 A3.5,3.5 0 0 0 177.5,427.7715 L184,427.7715 L174,417.7715 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="14" y="435.3398">app logic such as logout</text><polygon fill="#A80036" points="317,469.082,327,473.082,317,477.082,321,473.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="473.082" y2="473.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="105" y="468.6504">stop()</text><!--
@startuml Start-Stop
title Start/stop
skinparam backgroundColor transparent
skinparam roundCorner 14
skinparam NoteBackgroundColor #ffff00

participant App #lightcyan
participant OfflineManager as Offline


== Set global listeners ==
App->Offline: setAssetInfoUpdateListener(...)
App->Offline: setDownloadProgressListener(...)
App->Offline: setDrmLicenseUpdateListener(...)

== Start ==
App->Offline: start()
return started

App->Offline: resumeDownloads()

...

== Stop ==

note over App: app logic such as logout

App->Offline: stop()


@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 IST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-915-b08
Operating System: Mac OS X
OS Version: 10.13.3
Default Encoding: US-ASCII
Language: en
Country: IL
--></g></svg>