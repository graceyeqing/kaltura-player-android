<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="501px" preserveAspectRatio="none" style="width:408px;height:501px;" version="1.1" viewBox="0 0 408 501" width="408px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lxi52to3s3gi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="98" y1="38.4883" y2="310.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="98" x2="98" y1="310.9727" y2="338.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="98" y1="338.9727" y2="460.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="329" y1="38.4883" y2="310.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="329" x2="329" y1="310.9727" y2="338.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329" x2="329" y1="338.9727" y2="460.9043"/><rect fill="#E0FFFF" filter="url(#f1lxi52to3s3gi)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="75" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="82" y="23.5352">App</text><rect fill="#E0FFFF" filter="url(#f1lxi52to3s3gi)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="75" y="459.9043"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="82" y="480.4395">App</text><rect fill="#FEFECE" filter="url(#f1lxi52to3s3gi)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="267" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="274" y="23.5352">OfflineManager</text><rect fill="#FEFECE" filter="url(#f1lxi52to3s3gi)" height="30.4883" rx="7" ry="7" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="267" y="459.9043"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="274" y="480.4395">OfflineManager</text><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="69.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="69.1436" y2="69.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="72.1436" y2="72.1436"/><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="146" x="126.5" y="58.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="132.5" y="75.0566">Set global listeners</text><polygon fill="#A80036" points="317,108.7988,327,112.7988,317,116.7988,321,112.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="105" y="108.3672">setAssetInfoUpdateListener(...)</text><polygon fill="#A80036" points="317,138.1094,327,142.1094,317,146.1094,321,142.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="105" y="137.6777">setDownloadProgressListener(...)</text><polygon fill="#A80036" points="317,167.4199,327,171.4199,317,175.4199,321,171.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="105" y="166.9883">setDrmLicenseUpdateListener(...)</text><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="200.3857"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="200.3857" y2="200.3857"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="203.3857" y2="203.3857"/><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="49" x="175" y="189.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="181" y="206.2988">Start</text><polygon fill="#A80036" points="317,240.041,327,244.041,317,248.041,321,244.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="244.041" y2="244.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="105" y="239.6094">start()</text><polygon fill="#A80036" points="109,269.3516,99,273.3516,109,277.3516,105,273.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="103" x2="328" y1="273.3516" y2="273.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="115" y="268.9199">started</text><polygon fill="#A80036" points="317,298.6621,327,302.6621,317,306.6621,321,302.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="302.6621" y2="302.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="105" y="298.2305">resumeDownloads()</text><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="393" x="3" y="359.6279"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="359.6279" y2="359.6279"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="396" y1="362.6279" y2="362.6279"/><rect fill="#EEEEEE" filter="url(#f1lxi52to3s3gi)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="47" x="176" y="348.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="182" y="365.541">Stop</text><path d="M8,394.2832 L8,405.2832 A7,7 0 0 0 15,412.2832 L177,412.2832 A7,7 0 0 0 184,405.2832 L184,397.2832 L174,387.2832 L15,387.2832 A7,7 0 0 0 8,394.2832 " fill="#FFFF00" filter="url(#f1lxi52to3s3gi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M174,387.2832 L174,393.7832 A3.5,3.5 0 0 0 177.5,397.2832 L184,397.2832 L174,387.2832 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="14" y="404.8516">app logic such as logout</text><polygon fill="#A80036" points="317,438.5938,327,442.5938,317,446.5938,321,442.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="98" x2="323" y1="442.5938" y2="442.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="105" y="438.1621">stop()</text><!--
@startuml Start-Stop

skinparam backgroundColor transparent
skinparam roundCorner 14
skinparam NoteBackgroundColor #ffff00

participant App #lightcyan
participant OfflineManager as Offline


== Set global listeners ==
App->Offline: setAssetInfoUpdateListener(...)
App->Offline: setDownloadProgressListener(...)
App->Offline: setDrmLicenseUpdateListener(...)

== Start ==
App->Offline: start()
return started

App->Offline: resumeDownloads()

...

== Stop ==

note over App: app logic such as logout

App->Offline: stop()


@enduml

PlantUML version 1.2018.01(Sun Jan 28 20:08:22 IST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-915-b08
Operating System: Mac OS X
OS Version: 10.13.3
Default Encoding: US-ASCII
Language: en
Country: IL
--></g></svg>